[{"/Users/user/Code/Projects/animetimeline/src/index.js":"1","/Users/user/Code/Projects/animetimeline/src/App.js":"2","/Users/user/Code/Projects/animetimeline/src/Components/WholeViz.js":"3","/Users/user/Code/Projects/animetimeline/src/Components/HeroSection.js":"4","/Users/user/Code/Projects/animetimeline/src/Components/AnimeTimeline.js":"5","/Users/user/Code/Projects/animetimeline/src/Components/AnimeGraph.js":"6","/Users/user/Code/Projects/animetimeline/src/Components/Footer.js":"7","/Users/user/Code/Projects/animetimeline/src/Components/genres.js":"8"},{"size":150,"mtime":1610164869332,"results":"9","hashOfConfig":"10"},{"size":169,"mtime":1610165244055,"results":"11","hashOfConfig":"10"},{"size":3709,"mtime":1610192650928,"results":"12","hashOfConfig":"10"},{"size":1502,"mtime":1610173863431,"results":"13","hashOfConfig":"10"},{"size":5732,"mtime":1614492262743,"results":"14","hashOfConfig":"10"},{"size":19933,"mtime":1614493024811,"results":"15","hashOfConfig":"10"},{"size":1520,"mtime":1610186888492,"results":"16","hashOfConfig":"10"},{"size":1148,"mtime":1610165515393,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"zllcx7",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":"25","usedDeprecatedRules":"20"},{"filePath":"26","messages":"27","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"28","usedDeprecatedRules":"20"},{"filePath":"29","messages":"30","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"31","messages":"32","errorCount":0,"warningCount":12,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"33","messages":"34","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"20"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"20"},"/Users/user/Code/Projects/animetimeline/src/index.js",[],["39","40"],"/Users/user/Code/Projects/animetimeline/src/App.js",[],"/Users/user/Code/Projects/animetimeline/src/Components/WholeViz.js",["41"],"import React, { useState, useEffect } from \"react\";\nimport * as d3 from \"d3\";\nimport _ from \"lodash\";\n//import dataLoad from \"../data/mal_scrape_Jan8_limited.json\";\nimport HeroSection from \"./HeroSection\";\nimport AnimeTimeline from \"./AnimeTimeline\";\nimport AnimeGraph from \"./AnimeGraph\";\nimport Footer from \"./Footer\";\n\nconst dataURL = \"https://gist.githubusercontent.com/deaxmachina/f795176fbfd340cce82373d682cedd43/raw/124f2d14c04e30a7f74b6c04aab9b21e89f80d4c/mal_scrape_Jan8_limited.json\";\n\n\nconst WholeViz = () => {\n\n  /// states ///\n  const [data, setData] = useState(null);\n  const [allData, setAllData] = useState(null)\n  const [selectedYear, setSelectedYear] = useState(2020)\n  const [studios, setStudios] = useState(null);\n\n  // to have animated div only on bigger screen size \n  const [isDesktop, setIsDesktop] = useState(true)\n  const updatePredicate = function () {\n    setIsDesktop(window.innerWidth > 1500)\n  }\n  useEffect(() => {\n    updatePredicate();\n    window.addEventListener(\"resize\", updatePredicate);\n  }, [])\n\n  /// Data load ///\n\n  useEffect(() => {\n\n    d3.json(dataURL).then(dataLoad => {\n      // transform data into just {year: 2020, number_anime: 800}\n      // group the anime by year\n      const mygroup = _.groupBy(dataLoad,Â function(anime){return anime.air_year})\n      // transform the data so we end up with objects with year and number of unique anime in that year by mal_id \n      const mygroupData = []\n        for (const [year, data] of Object.entries(mygroup)) {\n            mygroupData.push({\n                year: year,\n                number_animes: (_.uniqBy(data, 'mal_id')).length\n            })\n        }\n        // filter to the years that you want\n        const filteredCountsList = _.filter(mygroupData, function(o) { \n          return o.year >= 1970 && o.year <= 2020\n        });\n      setData(filteredCountsList)\n\n      // Get list of studios \n      // 1. add category for list of studios for each anime\n      dataLoad.forEach(d => d.studiosList = _.map(d.producers, \"name\"))\n      // 2. get list of studios; flatten it and count by number of appearance \n      const studios = _.map(dataLoad, d => d.studiosList)\n      const studiosCounts = _.countBy(_.flatten(studios))\n      // 3. sort the studious by number of appearance \n      let sortedStudios = _.chain(studiosCounts).\n          map(function(count, studio) {\n              return {\n                  studio: studio,\n                  count: count\n              }\n          })\n          .sortBy('count')\n          .value()\n      sortedStudios = _.reverse(sortedStudios)\n      setStudios(sortedStudios)\n      setAllData(dataLoad)\n    })\n    \n\n\n  }, []);\n\n\n  return (\n    <div id=\"whole-graph-petalscircles\">\n      <HeroSection />\n\n      <div className=\"whole-graph-petalscircles-container\">\n        <AnimeTimeline\n          data={data}\n          allData={allData}\n          selectedYear={selectedYear}\n          setSelectedYear={setSelectedYear}\n        />\n        {\n          isDesktop\n          ?\n            <AnimeGraph\n              allData={allData}\n              selectedYear={selectedYear}\n              setAllData={setAllData}\n              studios={studios}\n              width={1300}\n              height={750}\n              minPopularity={7}\n              maxPopularity={37}\n            />\n          :\n            <AnimeGraph\n              allData={allData}\n              selectedYear={selectedYear}\n              setAllData={setAllData}\n              studios={studios}\n              width={1300}\n              height={650}\n              minPopularity={5}\n              maxPopularity={35}\n            />\n        }\n\n      </div>\n\n      <Footer/>\n    </div>\n  )\n};\n\nexport default WholeViz;","/Users/user/Code/Projects/animetimeline/src/Components/HeroSection.js",["42","43"],"import React from \"react\";\nimport _ from \"lodash\";\n\n\nconst HeroSection = () => {\n  return (\n    <div id=\"whole-graph-petalscircles-hero\">\n      <h1 className=\"whole-graph-petalscircles-title\">A Timeline of Anime</h1>\n      <div className=\"whole-graph-petalscircles-subtitle\">\n        Explore the evolution of anime over the decades with data from one of the most popular anime fan websites <a href=\"https://myanimelist.net/\" target=\"_blank\">MyAnimeList</a>\n      </div>\n\n      <div className=\"whole-graph-petalscircles-instructions\">\n        <p className=\"whole-graph-petalscircles-instructions-title\">How to read & interact with this visualisation</p>\n        <ul className=\"whole-graph-petalscircles-instructions-list\">\n          <li><span>Each circle in the graph below the timeline = one anime.</span></li>\n          <li><span>Sorted vertically by score (rating). Higher = greater score.</span></li>\n          <li><span>The bigger the anime circle, the more members have seen the anime.</span></li>  \n          <li><span>Number of constituent circles in each anime circle = number of genres. Genres are coloured as per the legend below.</span></li>    \n          <li><span>General tip: Play around, explore! Most elements can be clicked/and or hovered to reveal more information or filter.</span></li>\n        </ul>\n      </div>  \n      <p className=\"whole-graph-petalscircles-disclaimer\">\n        * Best viewed on a laptop/desktop screen.\n      </p>\n    </div>\n\n  )\n}\n\nexport default HeroSection;\n","/Users/user/Code/Projects/animetimeline/src/Components/AnimeTimeline.js",["44","45","46","47","48"],"/Users/user/Code/Projects/animetimeline/src/Components/AnimeGraph.js",["49","50","51","52","53","54","55","56","57","58","59","60"],"/Users/user/Code/Projects/animetimeline/src/Components/Footer.js",["61","62"],"import React from \"react\";\n\nconst Footer = () => {\n  return (\n    <div className=\"whole-graph-petalscircles-footer\">  \n      <p className=\"whole-graph-petalscircles-methodology\">Methodology</p>\n      <ul className=\"whole-graph-petalscircles-methodology-list\">\n        <li>\n          For each anime, the anime is displayed once, even if it ran over multiple seasons. For long-running anime that means they end up being put in the winter season as it is the first of the year.\n        </li>\n        <li>\n          The colouring of the genres is based on a completely subjective ordering of \"seriousness\", aiming to give a visual representation of what kind of anime are most popular. \n        </li>\n        <li>\n          \"Popular but low score anime\" are defined as anime with number of members who have seen it in the 75th percentile, but with mean score below 6.5/10.\n        </li>\n      </ul>\n      <p className=\"whole-graph-petalscircles-p\">\n        Data from \n        <a href=\"https://myanimelist.net/\" target=\"_blank\"> MyAnimeList</a>. \n        I do not own any of the data.\n      </p>   \n      <p className=\"whole-graph-petalscircles-p\">\n        Project as part of 100DaysOfCode with D3.js challenge. Project inspiration: Shirley Wu Front End Masters \n        <a href=\"https://frontendmasters.com/courses/d3/\" target=\"_blank\"> course</a>.\n      </p>\n      <p className=\"whole-graph-petalscircles-p\">made by  \n        <span> Dea Bankova </span>\n      </p>\n      <p>2021</p>\n    </div>\n  )\n};\n\nexport default Footer;","/Users/user/Code/Projects/animetimeline/src/Components/genres.js",["63"],"import * as chroma from \"chroma-js\";\nimport _ from \"lodash\";\n\n\nconst firstColour =  \"#21ABC0\"\nconst secondColour = \"#970C3F\"\nconst thirdColour =  \"#22223b\"\n\n// order genres by 'seriousness' \nconst orderedGenres = [\n  \"Kids\",\n  \"Comedy\",\n  \"School\",\n  'Shounen',\n  \"Shoujo\",\n  \"Fantasy\",\n  \"Super Power\",\n  \"Cars\",\n  \"Sports\",\n  \"Game\",\n  \"Adventure\",\n  \"Action\",\n  \"Demons\",\n  \"Samurai\",\n  \"Supernatural\",\n  'Magic',\n  \"Martial Arts\",\n  \"Mecha\",\n  \"Slice of Life\",\n  \"Parody\",\n  \"Romance\",\n  \"Music\",\n  \"Josei\",\n  \"Seinen\",  \n  \"Mystery\",\n  \"Horror\",\n  \"Thriller\",\n  \"Space\",\n  \"Police\",\n  \"Military\",\n  \"Drama\",\n  \"Historical\",\n  'Sci-Fi',\n  \"Psychological\",\n  \"Dementia\",\n]\n\n// these genres not included in the above list \nconst hentaiGenres = [\n  'Hentai',\n  \"Ecchi\",\n  \"Harem\",\n  \"Shounen Ai\",\n  \"Shoujo Ai\",\n  \"Yaoi\",\n  \"Yuri\",\n]\n\nconst colourScaleOrderedGenres = chroma.scale([firstColour, secondColour, thirdColour]\n  .map(color => chroma(color).brighten(0))\n  .map(color => chroma(color).saturate(0.1))\n  )\n  //.mode('lrgb') // hsl lrgb lab\n  .colors(orderedGenres.length)\n\n\n\nexport { orderedGenres, hentaiGenres, colourScaleOrderedGenres }",{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","severity":1,"message":"69","line":60,"column":49,"nodeType":"70","messageId":"71","endLine":60,"endColumn":50,"fix":"72"},{"ruleId":"73","severity":1,"message":"74","line":2,"column":8,"nodeType":"75","messageId":"76","endLine":2,"endColumn":9},{"ruleId":"77","severity":1,"message":"78","line":10,"column":115,"nodeType":"79","endLine":10,"endColumn":166},{"ruleId":"73","severity":1,"message":"74","line":3,"column":8,"nodeType":"75","messageId":"76","endLine":3,"endColumn":9},{"ruleId":"73","severity":1,"message":"80","line":76,"column":13,"nodeType":"75","messageId":"76","endLine":76,"endColumn":29},{"ruleId":"73","severity":1,"message":"81","line":90,"column":13,"nodeType":"75","messageId":"76","endLine":90,"endColumn":27},{"ruleId":"73","severity":1,"message":"82","line":117,"column":13,"nodeType":"75","messageId":"76","endLine":117,"endColumn":28},{"ruleId":"83","severity":1,"message":"84","line":161,"column":6,"nodeType":"85","endLine":161,"endColumn":21,"suggestions":"86"},{"ruleId":"73","severity":1,"message":"87","line":54,"column":9,"nodeType":"75","messageId":"76","endLine":54,"endColumn":24},{"ruleId":"73","severity":1,"message":"88","line":58,"column":9,"nodeType":"75","messageId":"76","endLine":58,"endColumn":24},{"ruleId":"73","severity":1,"message":"89","line":77,"column":13,"nodeType":"75","messageId":"76","endLine":77,"endColumn":31},{"ruleId":"73","severity":1,"message":"90","line":134,"column":13,"nodeType":"75","messageId":"76","endLine":134,"endColumn":26},{"ruleId":"73","severity":1,"message":"91","line":180,"column":13,"nodeType":"75","messageId":"76","endLine":180,"endColumn":20},{"ruleId":"73","severity":1,"message":"92","line":302,"column":13,"nodeType":"75","messageId":"76","endLine":302,"endColumn":41},{"ruleId":"73","severity":1,"message":"93","line":314,"column":13,"nodeType":"75","messageId":"76","endLine":314,"endColumn":48},{"ruleId":"94","severity":1,"message":"95","line":338,"column":34,"nodeType":"96","messageId":"97","endLine":338,"endColumn":36},{"ruleId":"73","severity":1,"message":"98","line":431,"column":13,"nodeType":"75","messageId":"76","endLine":431,"endColumn":24},{"ruleId":"94","severity":1,"message":"95","line":449,"column":34,"nodeType":"96","messageId":"97","endLine":449,"endColumn":36},{"ruleId":"94","severity":1,"message":"95","line":450,"column":32,"nodeType":"96","messageId":"97","endLine":450,"endColumn":34},{"ruleId":"83","severity":1,"message":"99","line":470,"column":6,"nodeType":"85","endLine":470,"endColumn":29,"suggestions":"100"},{"ruleId":"77","severity":1,"message":"78","line":20,"column":9,"nodeType":"79","endLine":20,"endColumn":60},{"ruleId":"77","severity":1,"message":"78","line":25,"column":9,"nodeType":"79","endLine":25,"endColumn":75},{"ruleId":"73","severity":1,"message":"74","line":2,"column":8,"nodeType":"75","messageId":"76","endLine":2,"endColumn":9},"no-native-reassign",["101"],"no-negated-in-lhs",["102"],"dot-location","Expected dot to be on same line as property.","MemberExpression","expectedDotBeforeProperty",{"range":"103","text":"104"},"no-unused-vars","'_' is defined but never used.","Identifier","unusedVar","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement","'instructionsText' is assigned a value but never used.","'rectBackground' is assigned a value but never used.","'yearCirclesText' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'margin.bottom', 'margin.left', 'margin.right', 'margin.top', and 'setSelectedYear'. Either include them or remove the dependency array. If 'setSelectedYear' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["105"],"'allGenresColour' is assigned a value but never used.","'underratedScore' is assigned a value but never used.","'lowQuantileMembers' is assigned a value but never used.","'yAxisSideText' is assigned a value but never used.","'flowers' is assigned a value but never used.","'legendSelectedGenreTextFront' is assigned a value but never used.","'legendSelectedGenreTextInstructions' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'resetButton' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'height', 'margin.bottom', 'margin.left', 'margin.right', 'margin.top', 'maxPopularity', 'minPopularity', 'petalScale', and 'width'. Either include them or remove the dependency array.",["106"],"no-global-assign","no-unsafe-negation",[2328,2340],"\n          .",{"desc":"107","fix":"108"},{"desc":"109","fix":"110"},"Update the dependencies array to be: [data, allData, margin.left, margin.right, margin.top, margin.bottom, setSelectedYear]",{"range":"111","text":"112"},"Update the dependencies array to be: [allData, height, margin.bottom, margin.left, margin.right, margin.top, maxPopularity, minPopularity, petalScale, selectedYear, width]",{"range":"113","text":"114"},[5445,5460],"[data, allData, margin.left, margin.right, margin.top, margin.bottom, setSelectedYear]",[18749,18772],"[allData, height, margin.bottom, margin.left, margin.right, margin.top, maxPopularity, minPopularity, petalScale, selectedYear, width]"]