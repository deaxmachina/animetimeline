[{"/Users/dea/Code/Projects/animetimeline/src/index.js":"1","/Users/dea/Code/Projects/animetimeline/src/App.js":"2","/Users/dea/Code/Projects/animetimeline/src/Components/WholeViz.js":"3","/Users/dea/Code/Projects/animetimeline/src/Components/HeroSection.js":"4","/Users/dea/Code/Projects/animetimeline/src/Components/AnimeTimeline.js":"5","/Users/dea/Code/Projects/animetimeline/src/Components/Footer.js":"6","/Users/dea/Code/Projects/animetimeline/src/Components/AnimeGraph.js":"7","/Users/dea/Code/Projects/animetimeline/src/Components/genres.js":"8"},{"size":150,"mtime":1614562178501,"results":"9","hashOfConfig":"10"},{"size":169,"mtime":1614562178500,"results":"11","hashOfConfig":"10"},{"size":3883,"mtime":1614579210034,"results":"12","hashOfConfig":"10"},{"size":1457,"mtime":1614581031711,"results":"13","hashOfConfig":"10"},{"size":5814,"mtime":1614576302639,"results":"14","hashOfConfig":"10"},{"size":1520,"mtime":1614562178501,"results":"15","hashOfConfig":"10"},{"size":18188,"mtime":1614579318695,"results":"16","hashOfConfig":"10"},{"size":1148,"mtime":1614562178501,"results":"17","hashOfConfig":"10"},{"filePath":"18","messages":"19","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},"d15zvt",{"filePath":"21","messages":"22","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"20"},{"filePath":"23","messages":"24","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":1,"source":null},{"filePath":"25","messages":"26","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"27","messages":"28","errorCount":0,"warningCount":5,"fixableErrorCount":0,"fixableWarningCount":0,"source":"29","usedDeprecatedRules":"20"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"32","usedDeprecatedRules":"20"},{"filePath":"33","messages":"34","errorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"35","messages":"36","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"37","usedDeprecatedRules":"20"},"/Users/dea/Code/Projects/animetimeline/src/index.js",[],["38","39"],"/Users/dea/Code/Projects/animetimeline/src/App.js",[],"/Users/dea/Code/Projects/animetimeline/src/Components/WholeViz.js",["40"],"/Users/dea/Code/Projects/animetimeline/src/Components/HeroSection.js",["41","42"],"/Users/dea/Code/Projects/animetimeline/src/Components/AnimeTimeline.js",["43","44","45","46","47"],"import React, { useEffect, useRef } from \"react\";\nimport * as d3 from \"d3\";\nimport _ from \"lodash\";\nimport * as chroma from \"chroma-js\";\n\n\nconst AnimeTimeline = ({ \n  data, allData, selectedYear, setSelectedYear \n  }) => {\n\n  /// refs ///\n  const svgRef = useRef();\n  const xAxisRef = useRef();\n  const gRef = useRef();\n  const rectRef = useRef();\n\n  /// constatns ///\n  // dimensions \n  const width = 1300;\n  const heightRect = 100;\n  const height = 100;\n  const margin = {top: 30, bottom: 45, right: 10, left: 10}\n  // radius of the timeline circles \n  const minRadiusTimeline = 8;\n  const maxRadiusTimeline = 18;\n  // colours \n  const shapeBackgroundColour = \"#010B14\" //  \"#14213d\" \n  const lowNumberColour = \"#003f66\" // \"#4361ee\" \"#268ECF\"\n  const highNumberColour =  \"#268ECF\" // \"#f72585\" \"#4361ee\"\n  const axisTextColour = \"white\"\n\n\n    /// D3 Code ///\n  useEffect(() => {\n    if (data && allData) {\n\n      /// Scales ///\n      // X Scale \n      const xScale = d3.scaleBand()\n        .domain(data.map(d => d['year'])) // all years\n        .range([margin.left, width - margin.right])\n        .padding(0.1)\n\n      // Colour scale - number of anime per year\n      // find the min and the max number of anime in any given year \n      // for now just using 0 to 1200 hardcoded \n      const colorScale = chroma.scale([lowNumberColour, highNumberColour]\n        .map(color => chroma(color).saturate(0)))\n        .domain([0, 1110])\n      // Scale the circles of the timeline by number of anime of that year\n      const numberAnimeScale = d3.scaleSqrt()\n        .domain(d3.extent(data, d => d.number_animes))\n        .range([minRadiusTimeline, maxRadiusTimeline])\n\n      const g = d3.select(gRef.current)\n\n      /// Axes ///\n      // X Axis \n      const xAxis = g => g  \n        .attr(\"transform\", `translate(${0}, ${heightRect - margin.bottom})`)\n        .call(d3.axisBottom(xScale).tickFormat(i => i).tickSizeOuter(0))\n        .call(g => g.select(\".domain\").remove())\n        .call(g => g.selectAll(\"text\")\n          .style(\"fill\", axisTextColour)\n          .attr(\"font-size\", \"0.9em\")\n          .style(\"text-anchor\", \"end\")\n          .attr(\"dx\", \"-.8em\")\n          .attr(\"dy\", \".15em\")\n          .attr(\"transform\", \"rotate(-60)\")\n        )\n        .call(g => g.selectAll(\".tick\")\n          .style(\"color\", axisTextColour)\n        )\n      \n      // for the instructions text above the graph \n      const instructionsText = g\n        .selectAll(\".instructions-text\")\n        .data([\"click on a circle to filter anime by year\"])\n        .join(\"text\")\n        .classed(\"instructions-text\", true)\n        .attr(\"transform\", `translate(${margin.left + 5}, ${margin.top/2 - 5})`)\n        .text(d => d)\n        .attr(\"font-size\", \"12px\")\n        .attr(\"fill\", \"white\")\n        .attr(\"dy\", \"0.35em\")\n\n      /// Graph ///\n\n      // draw a rectangle behind the circles \n      const rectBackground = d3.select(rectRef.current)\n        .append(\"rect\")\n        .attr(\"rx\", 30)\n        .attr(\"ry\", 30)\n        .attr(\"width\", width)\n        .attr(\"height\", heightRect)\n        .attr('fill', shapeBackgroundColour) \n\n      // draw one circle for each year, coloured by number of anime\n      const yearCircles = g\n        .selectAll(\".year-circles\")\n        .data(data)\n        .join(\"circle\")\n        .classed(\"year-circles\", true)\n          .attr(\"r\", d => numberAnimeScale(d['number_animes']))\n          .attr(\"cx\", d => xScale(d['year']) + xScale.bandwidth()/2)\n          .attr(\"cy\", heightRect/3)\n          .attr(\"fill\", d => colorScale(d['number_animes']))\n          .attr(\"fill-opacity\", 1)\n          .attr(\"stroke\", d => colorScale(d['number_animes']))\n          // if you want the stroke to scale with size of circle\n          //.attr(\"stroke-width\", d => numberAnimeScale(d['number_animes']) * 0.5)\n          // if you want the stroke to be constant\n          .attr(\"stroke-width\", 8)\n          .attr(\"stroke-opacity\", 0.5)\n     \n      // add text with number of animes on top of each circle \n      const yearCirclesText = g\n          .selectAll(\".circles-text\")\n          .data(data)\n          .join(\"text\")\n          .classed(\"circles-text\", true)\n            .attr(\"x\", d => xScale(d['year']) + xScale.bandwidth()/2)\n            .attr(\"y\", heightRect/3)\n            .attr(\"dy\", \".35em\")\n            .text(d => d['number_animes'])\n            .attr(\"fill\", axisTextColour)\n            .attr(\"font-size\", \"8px\")\n            .attr(\"text-anchor\", \"middle\")\n            .attr(\"opacity\", 0.8)\n            .attr('cursor', 'default')\n            .attr('pointer-events', 'none')\n            .attr(\"id\", d => d['year'])\n      \n      // set up events on the circles \n      yearCircles\n        .on(\"mouseenter\", onMouseEnter)\n        .on(\"mouseleave\", onMouseLeave)\n        .on(\"click\", onClick)\n      \n      function onClick(e, datum) {\n        setSelectedYear(datum['year'])\n        // expand the radius \n        d3.select(this).attr(\"r\", d => 1.5 * numberAnimeScale(d['number_animes']))\n      }\n      function onMouseEnter(e, datum) {\n        // expand the radius \n        d3.select(this).attr(\"r\", d => 1.5 * numberAnimeScale(d['number_animes']))\n      }\n\n      function onMouseLeave(e, datum) {\n        // shrink the radius back to normal\n        d3.select(this).attr(\"r\", d => numberAnimeScale(d['number_animes']))\n      }\n\n      // call the axes \n      d3.select(xAxisRef.current).call(xAxis)\n\n    } else {\n      console.log(\"Missing data\")\n    }\n  }, [data, allData]);\n\n\n  return (\n    <div>\n      <p>timeline - number of anime per year</p>\n      <br />\n      <div id=\"anime-timeline-wrapper\">\n        <svg ref={svgRef} width={width} height={height}>\n          <g ref={rectRef}></g>\n          <g ref={gRef}></g>\n          <g ref={xAxisRef}></g>\n        </svg>\n      </div>\n    </div>\n  )\n}\n\nexport default AnimeTimeline;","/Users/dea/Code/Projects/animetimeline/src/Components/Footer.js",["48","49"],"import React from \"react\";\n\nconst Footer = () => {\n  return (\n    <div className=\"whole-graph-petalscircles-footer\">  \n      <p className=\"whole-graph-petalscircles-methodology\">Methodology</p>\n      <ul className=\"whole-graph-petalscircles-methodology-list\">\n        <li>\n          For each anime, the anime is displayed once, even if it ran over multiple seasons. For long-running anime that means they end up being put in the winter season as it is the first of the year.\n        </li>\n        <li>\n          The colouring of the genres is based on a completely subjective ordering of \"seriousness\", aiming to give a visual representation of what kind of anime are most popular. \n        </li>\n        <li>\n          \"Popular but low score anime\" are defined as anime with number of members who have seen it in the 75th percentile, but with mean score below 6.5/10.\n        </li>\n      </ul>\n      <p className=\"whole-graph-petalscircles-p\">\n        Data from \n        <a href=\"https://myanimelist.net/\" target=\"_blank\"> MyAnimeList</a>. \n        I do not own any of the data.\n      </p>   \n      <p className=\"whole-graph-petalscircles-p\">\n        Project as part of 100DaysOfCode with D3.js challenge. Project inspiration: Shirley Wu Front End Masters \n        <a href=\"https://frontendmasters.com/courses/d3/\" target=\"_blank\"> course</a>.\n      </p>\n      <p className=\"whole-graph-petalscircles-p\">made by  \n        <span> Dea Bankova </span>\n      </p>\n      <p>2021</p>\n    </div>\n  )\n};\n\nexport default Footer;","/Users/dea/Code/Projects/animetimeline/src/Components/AnimeGraph.js",["50","51","52","53","54","55","56","57","58","59","60","61","62"],"/Users/dea/Code/Projects/animetimeline/src/Components/genres.js",["63"],"import * as chroma from \"chroma-js\";\nimport _ from \"lodash\";\n\n\nconst firstColour =  \"#21ABC0\"\nconst secondColour = \"#970C3F\"\nconst thirdColour =  \"#22223b\"\n\n// order genres by 'seriousness' \nconst orderedGenres = [\n  \"Kids\",\n  \"Comedy\",\n  \"School\",\n  'Shounen',\n  \"Shoujo\",\n  \"Fantasy\",\n  \"Super Power\",\n  \"Cars\",\n  \"Sports\",\n  \"Game\",\n  \"Adventure\",\n  \"Action\",\n  \"Demons\",\n  \"Samurai\",\n  \"Supernatural\",\n  'Magic',\n  \"Martial Arts\",\n  \"Mecha\",\n  \"Slice of Life\",\n  \"Parody\",\n  \"Romance\",\n  \"Music\",\n  \"Josei\",\n  \"Seinen\",  \n  \"Mystery\",\n  \"Horror\",\n  \"Thriller\",\n  \"Space\",\n  \"Police\",\n  \"Military\",\n  \"Drama\",\n  \"Historical\",\n  'Sci-Fi',\n  \"Psychological\",\n  \"Dementia\",\n]\n\n// these genres not included in the above list \nconst hentaiGenres = [\n  'Hentai',\n  \"Ecchi\",\n  \"Harem\",\n  \"Shounen Ai\",\n  \"Shoujo Ai\",\n  \"Yaoi\",\n  \"Yuri\",\n]\n\nconst colourScaleOrderedGenres = chroma.scale([firstColour, secondColour, thirdColour]\n  .map(color => chroma(color).brighten(0))\n  .map(color => chroma(color).saturate(0.1))\n  )\n  //.mode('lrgb') // hsl lrgb lab\n  .colors(orderedGenres.length)\n\n\n\nexport { orderedGenres, hentaiGenres, colourScaleOrderedGenres }",{"ruleId":"64","replacedBy":"65"},{"ruleId":"66","replacedBy":"67"},{"ruleId":"68","severity":1,"message":"69","line":62,"column":49,"nodeType":"70","messageId":"71","endLine":62,"endColumn":50,"fix":"72"},{"ruleId":"73","severity":1,"message":"74","line":2,"column":8,"nodeType":"75","messageId":"76","endLine":2,"endColumn":9},{"ruleId":"77","severity":1,"message":"78","line":10,"column":115,"nodeType":"79","endLine":10,"endColumn":166},{"ruleId":"73","severity":1,"message":"74","line":3,"column":8,"nodeType":"75","messageId":"76","endLine":3,"endColumn":9},{"ruleId":"73","severity":1,"message":"80","line":76,"column":13,"nodeType":"75","messageId":"76","endLine":76,"endColumn":29},{"ruleId":"73","severity":1,"message":"81","line":90,"column":13,"nodeType":"75","messageId":"76","endLine":90,"endColumn":27},{"ruleId":"73","severity":1,"message":"82","line":117,"column":13,"nodeType":"75","messageId":"76","endLine":117,"endColumn":28},{"ruleId":"83","severity":1,"message":"84","line":161,"column":6,"nodeType":"85","endLine":161,"endColumn":21,"suggestions":"86"},{"ruleId":"77","severity":1,"message":"78","line":20,"column":9,"nodeType":"79","endLine":20,"endColumn":60},{"ruleId":"77","severity":1,"message":"78","line":25,"column":9,"nodeType":"79","endLine":25,"endColumn":75},{"ruleId":"73","severity":1,"message":"87","line":6,"column":24,"nodeType":"75","messageId":"76","endLine":6,"endColumn":35},{"ruleId":"73","severity":1,"message":"88","line":56,"column":9,"nodeType":"75","messageId":"76","endLine":56,"endColumn":24},{"ruleId":"73","severity":1,"message":"89","line":60,"column":9,"nodeType":"75","messageId":"76","endLine":60,"endColumn":24},{"ruleId":"73","severity":1,"message":"90","line":79,"column":13,"nodeType":"75","messageId":"76","endLine":79,"endColumn":31},{"ruleId":"73","severity":1,"message":"91","line":136,"column":13,"nodeType":"75","messageId":"76","endLine":136,"endColumn":26},{"ruleId":"73","severity":1,"message":"92","line":182,"column":13,"nodeType":"75","messageId":"76","endLine":182,"endColumn":20},{"ruleId":"73","severity":1,"message":"93","line":304,"column":13,"nodeType":"75","messageId":"76","endLine":304,"endColumn":41},{"ruleId":"73","severity":1,"message":"94","line":316,"column":13,"nodeType":"75","messageId":"76","endLine":316,"endColumn":48},{"ruleId":"95","severity":1,"message":"96","line":340,"column":34,"nodeType":"97","messageId":"98","endLine":340,"endColumn":36},{"ruleId":"73","severity":1,"message":"99","line":376,"column":13,"nodeType":"75","messageId":"76","endLine":376,"endColumn":24},{"ruleId":"95","severity":1,"message":"96","line":394,"column":34,"nodeType":"97","messageId":"98","endLine":394,"endColumn":36},{"ruleId":"95","severity":1,"message":"96","line":395,"column":32,"nodeType":"97","messageId":"98","endLine":395,"endColumn":34},{"ruleId":"83","severity":1,"message":"100","line":413,"column":6,"nodeType":"85","endLine":413,"endColumn":44,"suggestions":"101"},{"ruleId":"73","severity":1,"message":"74","line":2,"column":8,"nodeType":"75","messageId":"76","endLine":2,"endColumn":9},"no-native-reassign",["102"],"no-negated-in-lhs",["103"],"dot-location","Expected dot to be on same line as property.","MemberExpression","expectedDotBeforeProperty",{"range":"104","text":"105"},"no-unused-vars","'_' is defined but never used.","Identifier","unusedVar","react/jsx-no-target-blank","Using target=\"_blank\" without rel=\"noreferrer\" is a security risk: see https://html.spec.whatwg.org/multipage/links.html#link-type-noopener","JSXOpeningElement","'instructionsText' is assigned a value but never used.","'rectBackground' is assigned a value but never used.","'yearCirclesText' is assigned a value but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'margin.bottom', 'margin.left', 'margin.right', 'margin.top', and 'setSelectedYear'. Either include them or remove the dependency array. If 'setSelectedYear' changes too often, find the parent component that defines it and wrap that definition in useCallback.","ArrayExpression",["106"],"'faRadiation' is defined but never used.","'allGenresColour' is assigned a value but never used.","'underratedScore' is assigned a value but never used.","'lowQuantileMembers' is assigned a value but never used.","'yAxisSideText' is assigned a value but never used.","'flowers' is assigned a value but never used.","'legendSelectedGenreTextFront' is assigned a value but never used.","'legendSelectedGenreTextInstructions' is assigned a value but never used.","eqeqeq","Expected '===' and instead saw '=='.","BinaryExpression","unexpected","'resetButton' is assigned a value but never used.","React Hook useEffect has missing dependencies: 'margin.bottom', 'margin.left', 'margin.right', 'margin.top', 'maxPopularity', 'minPopularity', and 'petalScale'. Either include them or remove the dependency array.",["107"],"no-global-assign","no-unsafe-negation",[2422,2434],"\n          .",{"desc":"108","fix":"109"},{"desc":"110","fix":"111"},"Update the dependencies array to be: [data, allData, margin.left, margin.right, margin.top, margin.bottom, setSelectedYear]",{"range":"112","text":"113"},"Update the dependencies array to be: [allData, selectedYear, width, height, margin.right, margin.bottom, margin.top, margin.left, minPopularity, maxPopularity, petalScale]",{"range":"114","text":"115"},[5445,5460],"[data, allData, margin.left, margin.right, margin.top, margin.bottom, setSelectedYear]",[16677,16715],"[allData, selectedYear, width, height, margin.right, margin.bottom, margin.top, margin.left, minPopularity, maxPopularity, petalScale]"]